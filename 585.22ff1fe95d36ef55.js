"use strict";(self.webpackChunkidemiafoot_front=self.webpackChunkidemiafoot_front||[]).push([[585],{585:(Ue,x,s)=>{s.r(x),s.d(x,{AdminModule:()=>Ne});var c=s(6814),M=s(2787),p=s(5861),u=s(4036),e=s(5879),D=s(5434),Q=s(2078),f=s(95),I=s(2595),g=s(824),C=s(9382),Z=s(2840),W=s(855),G=s(1958),N=s(2920),h=s(8386),P=s(6994),z=s(7505),y=s(331),R=s(8324),O=s(7582),_=s(8645),U=s(2438),S=s(7394),V=s(4911),E=s(3019),T=s(2181),v=s(9773),L=s(9397),k=s(5177),w=s(8180),F=s(4664),A=s(7754),m=s(348),$=s(140),K=s(4194);function X(i,a){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.nzLabel)}}const j=[[["nz-auto-option"]]],q=["nz-auto-option"],J=["*"],ee=["panel"],te=["content"];function ne(i,a){}function ie(i,a){1&i&&e.YNc(0,ne,0,0,"ng-template")}function oe(i,a){1&i&&e.Hsn(0)}function se(i,a){if(1&i&&(e.TgZ(0,"nz-auto-option",8),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("nzValue",t)("nzLabel",t&&t.label?t.label:t),e.xp6(1),e.hij(" ",t&&t.label?t.label:t," ")}}function ae(i,a){if(1&i&&e.YNc(0,se,2,3,"nz-auto-option",7),2&i){const t=e.oxw(2);e.Q6J("ngForOf",t.nzDataSource)}}function le(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",0,1),e.NdJ("@slideMotion.done",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.onAnimationEvent(o))}),e.TgZ(2,"div",2)(3,"div",3),e.YNc(4,ie,1,0,null,4),e.qZA()()(),e.YNc(5,oe,1,0,"ng-template",null,5,e.W1O),e.YNc(7,ae,1,1,"ng-template",null,6,e.W1O)}if(2&i){const t=e.MAs(6),n=e.MAs(8),o=e.oxw();e.ekj("ant-select-dropdown-hidden",!o.showPanel)("ant-select-dropdown-rtl","rtl"===o.dir),e.Q6J("ngClass",o.nzOverlayClassName)("ngStyle",o.nzOverlayStyle)("nzNoAnimation",null==o.noAnimation?null:o.noAnimation.nzNoAnimation)("@slideMotion",void 0)("@.disabled",!(null==o.noAnimation||!o.noAnimation.nzNoAnimation)),e.xp6(4),e.Q6J("ngTemplateOutlet",o.nzDataSource?n:t)}}let re=(()=>{class i{constructor(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["nz-auto-optgroup"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzAutoOptgroup"],ngContentSelectors:q,decls:3,vars:1,consts:[[1,"ant-select-item","ant-select-item-group"],[4,"nzStringTemplateOutlet"]],template:function(t,n){1&t&&(e.F$t(j),e.TgZ(0,"div",0),e.YNc(1,X,2,1,"ng-container",1),e.qZA(),e.Hsn(2)),2&t&&(e.xp6(1),e.Q6J("nzStringTemplateOutlet",n.nzLabel))},dependencies:[R.f],encapsulation:2,changeDetection:0}),i})();class ce{constructor(a,t=!1){this.source=a,this.isUserInput=t}}let b=(()=>{class i{constructor(t,n,o,l){this.ngZone=t,this.changeDetectorRef=n,this.element=o,this.nzAutocompleteOptgroupComponent=l,this.nzDisabled=!1,this.selectionChange=new e.vpe,this.mouseEntered=new e.vpe,this.active=!1,this.selected=!1,this.destroy$=new _.x}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,U.R)(this.element.nativeElement,"mouseenter").pipe((0,T.h)(()=>this.mouseEntered.observers.length>0),(0,v.R)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>this.mouseEntered.emit(this))}),(0,U.R)(this.element.nativeElement,"mousedown").pipe((0,v.R)(this.destroy$)).subscribe(t=>t.preventDefault())})}ngOnDestroy(){this.destroy$.next()}select(t=!0){this.selected=!0,this.changeDetectorRef.markForCheck(),t&&this.emitSelectionChangeEvent()}deselect(){this.selected=!1,this.changeDetectorRef.markForCheck(),this.emitSelectionChangeEvent()}getLabel(){return this.nzLabel||this.nzValue.toString()}setActiveStyles(){this.active||(this.active=!0,this.changeDetectorRef.markForCheck())}setInactiveStyles(){this.active&&(this.active=!1,this.changeDetectorRef.markForCheck())}scrollIntoViewIfNeeded(){(0,A.zT)(this.element.nativeElement)}selectViaInteraction(){this.nzDisabled||(this.selected=!this.selected,this.selected?this.setActiveStyles():this.setInactiveStyles(),this.emitSelectionChangeEvent(!0),this.changeDetectorRef.markForCheck())}emitSelectionChangeEvent(t=!1){this.selectionChange.emit(new ce(this,t))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(re,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nz-auto-option"]],hostAttrs:["role","menuitem",1,"ant-select-item","ant-select-item-option"],hostVars:10,hostBindings:function(t,n){1&t&&e.NdJ("click",function(){return n.selectViaInteraction()}),2&t&&(e.uIk("aria-selected",n.selected.toString())("aria-disabled",n.nzDisabled.toString()),e.ekj("ant-select-item-option-grouped",n.nzAutocompleteOptgroupComponent)("ant-select-item-option-selected",n.selected)("ant-select-item-option-active",n.active)("ant-select-item-option-disabled",n.nzDisabled))},inputs:{nzValue:"nzValue",nzLabel:"nzLabel",nzDisabled:"nzDisabled"},outputs:{selectionChange:"selectionChange",mouseEntered:"mouseEntered"},exportAs:["nzAutoOption"],ngContentSelectors:J,decls:2,vars:0,consts:[[1,"ant-select-item-option-content"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA())},encapsulation:2,changeDetection:0}),(0,O.gn)([(0,A.yF)()],i.prototype,"nzDisabled",void 0),i})();const ue={provide:f.JU,useExisting:(0,e.Gpc)(()=>Y),multi:!0};let Y=(()=>{class i{get activeOption(){return this.nzAutocomplete&&this.nzAutocomplete.options.length?this.nzAutocomplete.activeItem:null}constructor(t,n,o,l,r,d){this.ngZone=t,this.elementRef=n,this.overlay=o,this.viewContainerRef=l,this.nzInputGroupWhitSuffixOrPrefixDirective=r,this.document=d,this.onChange=()=>{},this.onTouched=()=>{},this.panelOpen=!1,this.destroy$=new _.x,this.overlayRef=null,this.portal=null,this.previousValue=null}ngAfterViewInit(){this.nzAutocomplete&&this.nzAutocomplete.animationStateChange.pipe((0,v.R)(this.destroy$)).subscribe(t=>{"void"===t.toState&&this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroyPanel()}writeValue(t){this.ngZone.runOutsideAngular(()=>Promise.resolve(null).then(()=>this.setTriggerValue(t)))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.elementRef.nativeElement.disabled=t,this.closePanel()}openPanel(){this.previousValue=this.elementRef.nativeElement.value,this.attachOverlay(),this.updateStatus()}closePanel(){this.panelOpen&&(this.nzAutocomplete.isOpen=this.panelOpen=!1,this.overlayRef&&this.overlayRef.hasAttached()&&(this.overlayRef.detach(),this.selectionChangeSubscription.unsubscribe(),this.overlayOutsideClickSubscription.unsubscribe(),this.optionsChangeSubscription.unsubscribe(),this.portal=null))}handleKeydown(t){const n=t.keyCode,o=n===m.LH||n===m.JH;n===m.hY&&t.preventDefault(),!this.panelOpen||n!==m.hY&&n!==m.Mf?this.panelOpen&&n===m.K5?this.nzAutocomplete.showPanel&&(t.preventDefault(),this.activeOption?this.activeOption.selectViaInteraction():this.closePanel()):this.panelOpen&&o&&this.nzAutocomplete.showPanel&&(t.stopPropagation(),t.preventDefault(),n===m.LH?this.nzAutocomplete.setPreviousItemActive():this.nzAutocomplete.setNextItemActive(),this.activeOption&&this.activeOption.scrollIntoViewIfNeeded(),this.doBackfill()):(this.activeOption&&this.activeOption.getLabel()!==this.previousValue&&this.setTriggerValue(this.previousValue),this.closePanel())}handleInput(t){const n=t.target,o=this.document;let l=n.value;"number"===n.type&&(l=""===l?null:parseFloat(l)),this.previousValue!==l&&(this.previousValue=l,this.onChange(l),this.canOpen()&&o.activeElement===t.target&&this.openPanel())}handleFocus(){this.canOpen()&&this.openPanel()}handleBlur(){this.onTouched()}subscribeOptionsChange(){return this.nzAutocomplete.options.changes.pipe((0,L.b)(()=>this.positionStrategy.reapplyLastPosition()),(0,k.g)(0)).subscribe(()=>{this.resetActiveItem(),this.panelOpen&&this.overlayRef.updatePosition()})}subscribeSelectionChange(){return this.nzAutocomplete.selectionChange.subscribe(t=>{this.setValueAndClose(t)})}subscribeOverlayOutsideClick(){return this.overlayRef.outsidePointerEvents().pipe((0,T.h)(t=>!this.elementRef.nativeElement.contains(t.target))).subscribe(()=>{this.closePanel()})}attachOverlay(){if(!this.nzAutocomplete)throw function pe(){return Error("Attempting to open an undefined instance of `nz-autocomplete`. Make sure that the id passed to the `nzAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.")}();!this.portal&&this.nzAutocomplete.template&&(this.portal=new $.UE(this.nzAutocomplete.template,this.viewContainerRef)),this.overlayRef||(this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.selectionChangeSubscription=this.subscribeSelectionChange(),this.optionsChangeSubscription=this.subscribeOptionsChange(),this.overlayOutsideClickSubscription=this.subscribeOverlayOutsideClick(),this.overlayRef.detachments().pipe((0,v.R)(this.destroy$)).subscribe(()=>{this.closePanel()})),this.nzAutocomplete.isOpen=this.panelOpen=!0}updateStatus(){this.overlayRef&&this.overlayRef.updateSize({width:this.nzAutocomplete.nzWidth||this.getHostWidth()}),this.nzAutocomplete.setVisibility(),this.resetActiveItem(),this.activeOption&&this.activeOption.scrollIntoViewIfNeeded()}destroyPanel(){this.overlayRef&&this.closePanel()}getOverlayConfig(){return new z.X_({positionStrategy:this.getOverlayPosition(),disposeOnNavigation:!0,scrollStrategy:this.overlay.scrollStrategies.reposition(),width:this.nzAutocomplete.nzWidth||this.getHostWidth()})}getConnectedElement(){return this.nzInputGroupWhitSuffixOrPrefixDirective?this.nzInputGroupWhitSuffixOrPrefixDirective.elementRef:this.elementRef}getHostWidth(){return this.getConnectedElement().nativeElement.getBoundingClientRect().width}getOverlayPosition(){const t=[new z.tR({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new z.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"})];return this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.getConnectedElement()).withFlexibleDimensions(!1).withPush(!1).withPositions(t).withTransformOriginOn(".ant-select-dropdown"),this.positionStrategy}resetActiveItem(){const t=this.nzAutocomplete.getOptionIndex(this.previousValue);this.nzAutocomplete.clearSelectedOptions(null,!0),-1!==t?(this.nzAutocomplete.setActiveItem(t),this.nzAutocomplete.activeItem.select(!1)):this.nzAutocomplete.setActiveItem(this.nzAutocomplete.nzDefaultActiveFirstOption?0:-1)}setValueAndClose(t){const n=t.nzValue;this.setTriggerValue(t.getLabel()),this.onChange(n),this.elementRef.nativeElement.focus(),this.closePanel()}setTriggerValue(t){const n=this.nzAutocomplete.getOption(t),o=n?n.getLabel():t;this.elementRef.nativeElement.value=o??"",this.nzAutocomplete.nzBackfill||(this.previousValue=o)}doBackfill(){this.nzAutocomplete.nzBackfill&&this.nzAutocomplete.activeItem&&this.setTriggerValue(this.nzAutocomplete.activeItem.getLabel())}canOpen(){const t=this.elementRef.nativeElement;return!t.readOnly&&!t.disabled}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(z.aV),e.Y36(e.s_b),e.Y36(g.ke,8),e.Y36(c.K0,8))},i.\u0275dir=e.lG2({type:i,selectors:[["input","nzAutocomplete",""],["textarea","nzAutocomplete",""]],hostAttrs:["autocomplete","off","aria-autocomplete","list"],hostBindings:function(t,n){1&t&&e.NdJ("focusin",function(){return n.handleFocus()})("blur",function(){return n.handleBlur()})("input",function(l){return n.handleInput(l)})("keydown",function(l){return n.handleKeydown(l)})},inputs:{nzAutocomplete:"nzAutocomplete"},exportAs:["nzAutocompleteTrigger"],features:[e._Bn([ue])]}),i})(),he=(()=>{class i{get options(){return this.nzDataSource?this.fromDataSourceOptions:this.fromContentOptions}constructor(t,n,o,l){this.changeDetectorRef=t,this.ngZone=n,this.directionality=o,this.noAnimation=l,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzDefaultActiveFirstOption=!0,this.nzBackfill=!1,this.compareWith=(r,d)=>r===d,this.selectionChange=new e.vpe,this.showPanel=!0,this.isOpen=!1,this.activeItem=null,this.dir="ltr",this.destroy$=new _.x,this.animationStateChange=new e.vpe,this.activeItemIndex=-1,this.selectionChangeSubscription=S.w0.EMPTY,this.optionMouseEnterSubscription=S.w0.EMPTY,this.dataSourceChangeSubscription=S.w0.EMPTY,this.optionSelectionChanges=(0,V.P)(()=>this.options?(0,E.T)(...this.options.map(r=>r.selectionChange)):this.ngZone.onStable.asObservable().pipe((0,w.q)(1),(0,F.w)(()=>this.optionSelectionChanges))),this.optionMouseEnter=(0,V.P)(()=>this.options?(0,E.T)(...this.options.map(r=>r.mouseEntered)):this.ngZone.onStable.asObservable().pipe((0,w.q)(1),(0,F.w)(()=>this.optionMouseEnter)))}ngOnInit(){this.directionality.change?.pipe((0,v.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.changeDetectorRef.detectChanges()}),this.dir=this.directionality.value}onAnimationEvent(t){this.animationStateChange.emit(t)}ngAfterContentInit(){this.nzDataSource||this.optionsInit()}ngAfterViewInit(){this.nzDataSource&&this.optionsInit()}ngOnDestroy(){this.dataSourceChangeSubscription.unsubscribe(),this.selectionChangeSubscription.unsubscribe(),this.optionMouseEnterSubscription.unsubscribe(),this.dataSourceChangeSubscription=this.selectionChangeSubscription=this.optionMouseEnterSubscription=null,this.destroy$.next(),this.destroy$.complete()}setVisibility(){this.showPanel=!!this.options.length,this.changeDetectorRef.markForCheck()}setActiveItem(t){const n=this.options.get(t);n&&!n.active?(this.activeItem=n,this.activeItemIndex=t,this.clearSelectedOptions(this.activeItem),this.activeItem.setActiveStyles()):(this.activeItem=null,this.activeItemIndex=-1,this.clearSelectedOptions()),this.changeDetectorRef.markForCheck()}setNextItemActive(){this.setActiveItem(this.activeItemIndex+1<=this.options.length-1?this.activeItemIndex+1:0)}setPreviousItemActive(){this.setActiveItem(this.activeItemIndex-1<0?this.options.length-1:this.activeItemIndex-1)}getOptionIndex(t){return this.options.reduce((n,o,l)=>-1===n?this.compareWith(t,o.nzValue)?l:-1:n,-1)}getOption(t){return this.options.find(n=>this.compareWith(t,n.nzValue))||null}optionsInit(){this.setVisibility(),this.subscribeOptionChanges(),this.dataSourceChangeSubscription=(this.nzDataSource?this.fromDataSourceOptions.changes:this.fromContentOptions.changes).subscribe(n=>{!n.dirty&&this.isOpen&&setTimeout(()=>this.setVisibility()),this.subscribeOptionChanges()})}clearSelectedOptions(t,n=!1){this.options.forEach(o=>{o!==t&&(n&&o.deselect(),o.setInactiveStyles())})}subscribeOptionChanges(){this.selectionChangeSubscription.unsubscribe(),this.selectionChangeSubscription=this.optionSelectionChanges.pipe((0,T.h)(t=>t.isUserInput)).subscribe(t=>{t.source.select(),t.source.setActiveStyles(),this.activeItem=t.source,this.activeItemIndex=this.getOptionIndex(this.activeItem.nzValue),this.clearSelectedOptions(t.source,!0),this.selectionChange.emit(t.source)}),this.optionMouseEnterSubscription.unsubscribe(),this.optionMouseEnterSubscription=this.optionMouseEnter.subscribe(t=>{t.setActiveStyles(),this.activeItem=t,this.activeItemIndex=this.getOptionIndex(this.activeItem.nzValue),this.clearSelectedOptions(t)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(P.Is,8),e.Y36(y.P,9))},i.\u0275cmp=e.Xpm({type:i,selectors:[["nz-autocomplete"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,b,5),2&t){let l;e.iGM(l=e.CRH())&&(n.fromContentOptions=l)}},viewQuery:function(t,n){if(1&t&&(e.Gf(e.Rgc,5),e.Gf(ee,5),e.Gf(te,5),e.Gf(b,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.template=o.first),e.iGM(o=e.CRH())&&(n.panel=o.first),e.iGM(o=e.CRH())&&(n.content=o.first),e.iGM(o=e.CRH())&&(n.fromDataSourceOptions=o)}},inputs:{nzWidth:"nzWidth",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzDefaultActiveFirstOption:"nzDefaultActiveFirstOption",nzBackfill:"nzBackfill",compareWith:"compareWith",nzDataSource:"nzDataSource"},outputs:{selectionChange:"selectionChange"},exportAs:["nzAutocomplete"],ngContentSelectors:J,decls:1,vars:0,consts:[[1,"ant-select-dropdown","ant-select-dropdown-placement-bottomLeft",3,"ngClass","ngStyle","nzNoAnimation"],["panel",""],[2,"max-height","256px","overflow-y","auto","overflow-anchor","none"],[2,"display","flex","flex-direction","column"],[4,"ngTemplateOutlet"],["contentTemplate",""],["optionsTemplate",""],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"]],template:function(t,n){1&t&&(e.F$t(),e.YNc(0,le,9,10,"ng-template"))},dependencies:[c.mk,c.sg,c.tP,c.PC,y.P,b],encapsulation:2,data:{animation:[K.mF]},changeDetection:0}),(0,O.gn)([(0,A.yF)()],i.prototype,"nzDefaultActiveFirstOption",void 0),(0,O.gn)([(0,A.yF)()],i.prototype,"nzBackfill",void 0),i})(),me=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[P.vT,c.ez,z.U8,R.T,y.g,g.o7]}),i})();var B=s(6494),H=s(9035);function de(i,a){1&i&&(e._UZ(0,"span",28),e._uU(1," Users "))}function ge(i,a){1&i&&(e.TgZ(0,"button",29),e._UZ(1,"span",30),e.qZA())}function fe(i,a){1&i&&e._UZ(0,"span",36)}function ze(i,a){1&i&&e._UZ(0,"span",37)}function ve(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"nz-switch",31),e.NdJ("ngModelChange",function(o){const r=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.switchAdmin(o,r.id))}),e.qZA(),e.YNc(7,fe,1,0,"ng-template",null,32,e.W1O),e.YNc(9,ze,1,0,"ng-template",null,33,e.W1O),e.qZA(),e.TgZ(11,"td")(12,"button",34),e.NdJ("nzOnConfirm",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.confirmDelete(l.id))})("nzOnCancel",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelDelete())}),e._uU(13,"Delete"),e._UZ(14,"span",35),e.qZA()()()}if(2&i){const t=a.$implicit,n=e.MAs(8),o=e.MAs(10);e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.phone),e.xp6(2),e.Q6J("ngModel",t.isAdmin)("nzCheckedChildren",n)("nzUnCheckedChildren",o)}}function Ae(i,a){1&i&&(e._UZ(0,"span",38),e._uU(1," Communication "))}function Ce(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"span",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.inputValueMail=null)}),e.qZA()}}function ye(i,a){if(1&i&&e.YNc(0,Ce,1,0,"span",39),2&i){const t=e.oxw();e.Q6J("ngIf",t.inputValueMail)}}function Oe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"span",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.textValue=null)}),e.qZA()}}function _e(i,a){if(1&i&&e.YNc(0,Oe,1,0,"span",39),2&i){const t=e.oxw();e.Q6J("ngIf",t.textValue)}}const Se=function(){return{xs:8,sm:16,md:24,lg:32}},Te=[{path:"",component:(()=>{class i{constructor(t,n){this.usersService=t,this.notificationService=n,this.isVisible=!1,this.users=[],this.options=[],this.filteredUsers=[],this.listOfCurrentPageData=[],this.inputValueMail=null,this.textValue=null}ngOnInit(){var t=this;return(0,p.Z)(function*(){try{const n=yield(0,u.z)(t.usersService.findAll());t.users=n,t.filteredUsers=n}catch(n){console.error(n)}})()}checkSelectedUser(t){var n=this;return(0,p.Z)(function*(){(yield(0,u.z)(n.usersService.getUserById(t.id))).admin?yield(0,u.z)(n.usersService.removeAdmin(t.id)):yield(0,u.z)(n.usersService.addAdmin(t.id))})()}onInput(t){const n=t.target.value;this.filteredUsers=n?this.users.filter(o=>o.username.startsWith(n)):this.users,this.options=this.filteredUsers.map(o=>o.username),this.listOfCurrentPageData=this.filteredUsers.slice(0,this.pageSize)}refreshUsers(){var t=this;return(0,p.Z)(function*(){t.users=yield(0,u.z)(t.usersService.findAll()),t.filteredUsers=t.users})()}removeUser(t){var n=this;return(0,p.Z)(function*(){yield(0,u.z)(n.usersService.removeUser(t)).then(()=>{n.refreshUsers(),n.notificationService.success("Succes","User deleted successfully")}).catch(o=>{n.notificationService.error("Error",o.message)})})()}handleRemoveUser(t){var n=this;return(0,p.Z)(function*(){try{yield n.removeUser(t),yield n.refreshUsers()}catch(o){console.error(o)}})()}switchAdmin(t,n){var o=this;return(0,p.Z)(function*(){t?yield(0,u.z)(o.usersService.addAdmin(n)):yield(0,u.z)(o.usersService.removeAdmin(n)),yield o.refreshUsers()})()}onCurrentPageDataChange(t){this.listOfCurrentPageData=t}cancelDelete(){this.nzMessageService.info("Cancel")}confirmDelete(t){var n=this;return(0,p.Z)(function*(){n.handleRemoveUser(t)})()}sendMail(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(D.f),e.Y36(Q.zb))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-admin"]],decls:55,vars:18,consts:[["nz-row","",3,"nzGutter"],["nz-col","",1,"gutter-row",3,"nzSpan"],[1,"inner-box"],[1,"admin"],[3,"nzTitle"],["userstp",""],[1,"search"],[1,"bar"],["nzSearch","",3,"nzAddOnAfter"],["placeholder","username here","nz-input","",3,"ngModel","nzAutocomplete","ngModelChange","input"],["nzBackfill","",3,"nzDataSource"],["auto",""],["suffixIconButton",""],["nzShowPagination","",3,"nzData","nzPageSize","nzCurrentPageDataChange","nzPageIndexChange"],["basicTable",""],["nz-icon","","nzType","user","nzTheme","outline"],["nz-icon","","nzType","phone","nzTheme","outline"],["nz-icon","","nzType","tool","nzTheme","outline"],[4,"ngFor","ngForOf"],["messagetp",""],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Subject",3,"ngModel","ngModelChange"],["inputClearTpl",""],[1,"ant-input-affix-wrapper-textarea-with-clear-btn",3,"nzSuffix"],["nz-input","","placeholder","Message core",3,"ngModel","ngModelChange"],["textAreaClearTpl",""],["nz-button","","nzType","primary","nzSearch","","nzShape","round",1,"btn-send",3,"onclick"],["nz-icon","","nzType","send","nzTheme","outline"],["nz-icon","","nzType","usergroup-add","nzTheme","outline"],["nz-button","","nzType","primary","nzSearch","","nzShape","round"],["nz-icon","","nzType","search"],[3,"ngModel","nzCheckedChildren","nzUnCheckedChildren","ngModelChange"],["checkedTemplate",""],["unCheckedTemplate",""],["nzDanger","","nz-button","","nzType","primary","nzShape","round","nz-popconfirm","","nzPopconfirmTitle","Are you sure to delete this user ?","nzPopconfirmPlacement","bottom",3,"nzOnConfirm","nzOnCancel"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-icon","","nzType","check"],["nz-icon","","nzType","close"],["nz-icon","","nzType","message","nzTheme","outline"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",1)(4,"div",2)(5,"h1"),e._uU(6,"Administration \u{1f510}"),e.qZA(),e.TgZ(7,"nz-tabset",3)(8,"nz-tab",4),e.YNc(9,de,2,0,"ng-template",null,5,e.W1O),e.TgZ(11,"div",6)(12,"div",7)(13,"h3"),e._uU(14,"Search for user"),e.qZA(),e.TgZ(15,"nz-input-group",8)(16,"input",9),e.NdJ("ngModelChange",function(l){return n.inputValue=l})("input",function(l){return n.onInput(l)}),e.qZA(),e._UZ(17,"nz-autocomplete",10,11),e.qZA(),e.YNc(19,ge,2,0,"ng-template",null,12,e.W1O),e.qZA(),e.TgZ(21,"nz-table",13,14),e.NdJ("nzCurrentPageDataChange",function(l){return n.onCurrentPageDataChange(l)})("nzPageIndexChange",function(){return n.refreshUsers()}),e.TgZ(23,"thead")(24,"tr")(25,"th"),e._UZ(26,"span",15),e.qZA(),e.TgZ(27,"th"),e._UZ(28,"span",16),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Admin"),e.qZA(),e.TgZ(31,"th"),e._UZ(32,"span",17),e.qZA()()(),e.TgZ(33,"tbody"),e.YNc(34,ve,15,5,"tr",18),e.qZA()()()(),e.TgZ(35,"nz-tab",4),e.YNc(36,Ae,2,0,"ng-template",null,19,e.W1O),e.TgZ(38,"h3"),e._uU(39,"Send communication email"),e.qZA(),e.TgZ(40,"nz-input-group",20)(41,"input",21),e.NdJ("ngModelChange",function(l){return n.inputValue=l}),e.qZA()(),e.YNc(42,ye,1,1,"ng-template",null,22,e.W1O),e._UZ(44,"br")(45,"br"),e.TgZ(46,"nz-input-group",23)(47,"textarea",24),e.NdJ("ngModelChange",function(l){return n.textValue=l}),e.qZA()(),e.YNc(48,_e,1,1,"ng-template",null,25,e.W1O),e.TgZ(50,"button",26),e.NdJ("onclick",function(){return n.sendMail()}),e._uU(51,"Send"),e._UZ(52,"span",27),e.qZA()()()()(),e.TgZ(53,"div",1),e._UZ(54,"div",2),e.qZA()()),2&t){const o=e.MAs(10),l=e.MAs(18),r=e.MAs(20),d=e.MAs(37),Pe=e.MAs(43),Re=e.MAs(49);e.Q6J("nzGutter",e.DdM(17,Se)),e.xp6(1),e.Q6J("nzSpan",6),e.xp6(2),e.Q6J("nzSpan",24),e.xp6(5),e.Q6J("nzTitle",o),e.xp6(7),e.Q6J("nzAddOnAfter",r),e.xp6(1),e.Q6J("ngModel",n.inputValue)("nzAutocomplete",l),e.xp6(1),e.Q6J("nzDataSource",n.options),e.xp6(4),e.Q6J("nzData",n.filteredUsers)("nzPageSize",7),e.xp6(13),e.Q6J("ngForOf",n.listOfCurrentPageData),e.xp6(1),e.Q6J("nzTitle",d),e.xp6(5),e.Q6J("nzSuffix",Pe),e.xp6(1),e.Q6J("ngModel",n.inputValue),e.xp6(5),e.Q6J("nzSuffix",Re),e.xp6(1),e.Q6J("ngModel",n.textValue),e.xp6(6),e.Q6J("nzSpan",6)}},dependencies:[c.sg,c.O5,f.Fj,f.JJ,f.On,I.Ls,g.Zp,g.gB,g.ke,C.xH,C.xw,Z.ix,W.w,G.dQ,N.t3,N.SK,h.N8,h.Uo,h._C,h.Om,h.p0,h.$Z,he,Y,B.i,H.JW],styles:[".btn-send[_ngcontent-%COMP%]{margin-top:10px;float:right}.ant-input-affix-wrapper-textarea-with-clear-btn[_ngcontent-%COMP%]{height:200px}.admin[_ngcontent-%COMP%]{width:500px}@media (max-width: 600px){.admin[_ngcontent-%COMP%]{width:auto}}"]}),i})()}];let be=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[M.Bz.forChild(Te),M.Bz]}),i})();var xe=s(3410),Me=s(6556),De=s(3599),Ie=s(5695),Ze=s(2274);let Ne=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[D.f],imports:[c.ez,be,f.u5,I.PV,xe.wm,g.o7,C.we,Me.Ph,Z.sL,De.U5,h.HQ,me,Ie.X,B.m,Ze.uK,H._p]}),i})()}}]);