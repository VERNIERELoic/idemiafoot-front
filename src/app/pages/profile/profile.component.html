<div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
    <div nz-col class="gutter-row" [nzSpan]="6">
        <div class="inner-box"></div>
    </div>
    <div nz-col class="gutter-row" [nzSpan]="24">
        <div class="inner-box">
            <h1 class="title">Update your profile</h1>
            <form nz-form [formGroup]="validateForm">
                <nz-form-item>
                    <div class="upload">
                        <nz-upload class="avatar-uploader" nzAction="https://www.mocky.io/v2/5cc8019d300000980a055e76"
                            nzName="avatar" nzListType="picture-card" [nzShowUploadList]="false"
                            [nzBeforeUpload]="beforeUpload" (nzChange)="handleChange($event)">
                            <ng-container *ngIf="!avatarUrl">
                                <span class="upload-icon" nz-icon [nzType]="loading ? 'loading' : 'plus'"></span>
                                <div class="ant-upload-text">Upload</div>
                            </ng-container>
                            <img *ngIf="avatarUrl" [src]="'http://' + avatarUrl" style="width: 100%" />
                        </nz-upload>
                    </div>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="username" nzRequired
                        nzTooltipTitle="must have to be unic !">
                        <span>Username</span>
                    </nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Pleaser enter username!">
                        <input nz-input formControlName="username" id="username" [(ngModel)]="currentUser.username" />
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="firstname" nzRequired>
                        <span>First name</span>
                    </nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Please enter your first name!">
                        <input nz-input id="firstname" formControlName="firstname"
                            [(ngModel)]="currentUser.firstname" />
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="lastname" nzRequired>
                        <span>Last name</span>
                    </nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Please enter your last name!">
                        <input nz-input id="lastname" formControlName="lastname" [(ngModel)]="currentUser.lastname" />
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="email">Email</nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Invalide email!">
                        <input nz-input formControlName="email" id="email" [(ngModel)]="currentUser.email" />
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="password" nzRequired>Password</nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Please input your password!">
                        <input nz-input type="password" id="password" formControlName="password"
                            (ngModelChange)="updateConfirmValidator()" />
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="checkPassword" nzRequired>Password verify
                    </nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24" [nzErrorTip]="errorTpl">
                        <input nz-input type="password" formControlName="checkPassword" id="checkPassword" />
                        <ng-template #errorTpl let-control>
                            <ng-container *ngIf="control.hasError('required')">Confirm password !
                            </ng-container>
                            <ng-container *ngIf="control.hasError('confirm')">
                                Passwords are not the same !
                            </ng-container>
                        </ng-template>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="phone" nzRequired>Phone
                        number</nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24" [nzValidateStatus]="validateForm.controls['phone']"
                        nzErrorTip="Please input your phone number!">
                        <input formControlName="phone" id="'phone'" nz-input [(ngModel)]="currentUser.phone" />
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item nz-row class="register-area">
                    <nz-form-control>
                        <button nz-button nzType="primary" (click)="update()" nzShape="round">Update</button>
                        <button nz-button nzType="primary" nzDanger (click)="showDeleteConfirm()" nzDanger
                            nzShape="round"><span nz-icon nzType="delete" nzTheme="outline"></span>Delete my
                            account</button>
                    </nz-form-control>
                </nz-form-item>
            </form>
        </div>
    </div>
    <div nz-col class="gutter-row" [nzSpan]="6">
        <div class="inner-box"></div>
    </div>
</div>